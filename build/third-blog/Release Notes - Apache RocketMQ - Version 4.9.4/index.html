<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="RocketMQ Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="RocketMQ Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="RocketMQ" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/second-blog/rss.xml" title="RocketMQ Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/second-blog/atom.xml" title="RocketMQ Blog Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/third-blog/rss.xml" title="RocketMQ Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/third-blog/atom.xml" title="RocketMQ Blog Atom Feed"><title data-react-helmet="true">Release Notes - Apache RocketMQ - Version 4.9.4 | RocketMQ</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/third-blog/Release Notes - Apache RocketMQ - Version 4.9.4"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Release Notes - Apache RocketMQ - Version 4.9.4 | RocketMQ"><meta data-react-helmet="true" name="description" content="Release Notes - Apache RocketMQ - Version 4.9.4"><meta data-react-helmet="true" property="og:description" content="Release Notes - Apache RocketMQ - Version 4.9.4"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2022-07-08T13:36:30.813Z"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/third-blog/Release Notes - Apache RocketMQ - Version 4.9.4"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/third-blog/Release Notes - Apache RocketMQ - Version 4.9.4" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/third-blog/Release Notes - Apache RocketMQ - Version 4.9.4" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://R2IYF7ETH7-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.8f305808.css">
<link rel="preload" href="/assets/js/runtime~main.03b61255.js" as="script">
<link rel="preload" href="/assets/js/main.4a419aa9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/Apache_RocketMQ_logo.svg.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/Apache_RocketMQ_logo.svg.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">RocketMQ</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/">ÊñáÊ°£</a><a class="navbar__item navbar__link" href="/download">‰∏ãËΩΩ</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">ÂçöÂÆ¢</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/blog">Áî®Êà∑Ê°à‰æã</a></li><li><a class="dropdown__link" href="/second-blog">Á§æÂå∫Ê¥ªÂä®</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/third-blog">ÁâàÊú¨ÂèòÂåñ</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">Á§æÂå∫</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/info">È°πÁõÆ‰ø°ÊÅØ</a></li><li><a class="dropdown__link" href="/contact">Âä†ÂÖ•Êàë‰ª¨</a></li><li><a class="dropdown__link" href="/team">Ë¥°ÁåÆÂõ¢Èòü</a></li><li><a class="dropdown__link" href="/team">Ë¥°ÁåÆËØ¥Êòé</a></li></ul></div><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/third-blog/Release Notes - Apache RocketMQ Streams - Version 1.0.1-preview">Release Notes - Apache RocketMQ Streams - Version 1.0.1-preview</a></li><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/third-blog/Release Notes - Apache RocketMQ - Version 4.9.4">Release Notes - Apache RocketMQ - Version 4.9.4</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_GeHD" itemprop="headline">Release Notes - Apache RocketMQ - Version 4.9.4</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2022-07-08T13:36:30.813Z" itemprop="datePublished">July 8, 2022</time> ¬∑ 5 min read</div></header><div class="markdown" itemprop="articleBody"><p>Below is a summary of the issues addressed in the 4.9.4 release of RocketMQ. For full documentation of the release, a guide to get started, please refer to Quick Start.</p><p>Download the 4.9.4 release
Source: rocketmq-all-4.9.4-source-release.zip [PGP][SHA512]
Binary: rocketmq-all-4.9.4-bin-release.zip [PGP][SHA512]
Improvement
[ISSUE-4426] - [ISSUE-4426] - fix ACL issue when sending messages back
[ISSUE-4455] - [ISSUE-4455] - add a schedule task to update namesrv address
[ISSUE-4349] - [ISSUE-4349] - fix negative index when index reach Integer.MAX_VALUE
[ISSUE-3906] - [ISSUE-3906] - Mark stream-related request by RequestType
[ISSUE-4419] - [ISSUE-4419] - Upgrade maven-checkstyle-plugin to 3.1.2
[ISSUE-4416] - [ISSUE-4416] - Update dledger version to 0.2.6
[ISSUE-4410] - [ISSUE-4410] - Optimize method org.apache.rocketmq.common.message.MessageDecoder#messageProperties2String, remove useless check
[ISSUE-4391] - [ISSUE-4391] - optimize for printObjectProperties
[ISSUE-4067] - [ISSUE-4067] - fix: Add TLS configuration documents.
[ISSUE-4377] - [ISSUE-4377] - Unnecessary null check before method call
[ISSUE-4372] - [ISSUE-4372] - Make it compile with Java9+
[ISSUE-4365] - [ISSUE-4365] - acl PlainPermissionManager key file paths set to same
[ISSUE-4362] - [ISSUE-4362] - remove redundancy group name check of null in method org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl#checkConfig
[ISSUE-4323] - [ISSUE-4323] - Transaction example add the default NamesrvAddr
[ISSUE-4323] - [ISSUE-4323] - tracemessage example add the default NamesrvAddr
[ISSUE-4323] - [ISSUE-4323] - Schedule example add the default NamesrvAddr
[ISSUE-4323] - [ISSUE-4323] - Optimized namespace example code
[ISSUE-4226] - [ISSUE-4226] - Message length exceeds the maximum length when sendback
[ISSUE-4332] - [ISSUE-4332] - Remove duplicate code
[ISSUE-4323] - [ISSUE-4323] - Quickstart adds the default NamesrvAddr
[ISSUE-4320] - [ISSUE-4320] - Anonymous new PrivilegedAction can be replaced with lambda
[ISSUE-4396] - [ISSUE-4396] - Support get all producer on one broker
[ISSUE-4318] - [ISSUE-4318] - make some variables to be final in IndexHeader
[ISSUE-4317] - [ISSUE-4317] - Fix for statement does not loop
[ISSUE-2435] - [ISSUE-2435] - Solve the problem that DefaultMQProducer#request() sends messages and waits for timeout synchronously
[ISSUE-3962] - [ISSUE-3962] - Fix variable name in MappedFile#isAbleToCommit()
[ISSUE-4310] - [ISSUE-4310] - Optimize serviceProvider&#x27;s code
[ISSUE-4304] - [ISSUE-4304] - Fix license check failures
[ISSUE-4286] - [ISSUE-4286] - add link of rocketmq-site to readme
[ISSUE-4284] - [ISSUE-4284] - Add protocols to readme and delete the description of language clients
[ISSUE-4270] - [ISSUE-4270] - Log parameter error and optimize code
[ISSUE-4263] - [ISSUE-4263] - Delete topic route info based on cluster when delete topic.
[ISSUE-4254] - [ISSUE-4254] - use function computeIfAbsent replace if
[ISSUE-4237] - [ISSUE-4237] - REMOVE unnecessary final modifier
[ISSUE-4239] - [ISSUE-4239] - Use function computeIfAbsent replace if
[ISSUE-4216] - [ISSUE-4216] - fix HmacSHA1 not available when use benchmark
[ISSUE-4203] - [ISSUE-4203] - Support zstd/lz4 compression to improve send/receive performance
[ISSUE-4211] - [ISSUE-4211] - Fix diskMaxUsedSpaceRatio does not take effect in dLedger
[ISSUE-4187] - [ISSUE-4187] - Support async publish in producer benchmark
[ISSUE-4308] - [ISSUE-4308] - Make some variables to be final in brokerController
[ISSUE-4251] - [ISSUE-4251] - Add batch flag
[ISSUE-4185] - [ISSUE-4185] - Explicit type argument can be replaced with
[ISSUE-4183] - [ISSUE-4183] - When the reportSlaveMaxOffset method fails, end the current loop early
[ISSUE-4181] - [ISSUE-4181] - Prevent int overflow in TraceContext
[ISSUE-4099] - [ISSUE-4099] - Optimized the performance of sending traceMessage in AsyncTraceDispatcher
[ISSUE-4175] - [ISSUE-4175] - Prevent update topic on slave
[ISSUE-4165] - [ISSUE-4165] - add new line in sendMsgStatus
[ISSUE-4147] - [ISSUE-4147] - javadoc: Fix the problem described in the warning message prompted by the IDE.
[ISSUE-4145] - [ISSUE-4145] - docs: Add &#x27;at most once&#x27; feature in the feature documents.
[ISSUE-4130] - [ISSUE-4130] - Remove the exception which will never be thrown by method from method signature
[ISSUE-3914] - [ISSUE-3914] - Support multi dirs storage in DLedger
[ISSUE-4110] - [ISSUE-4110] - Update dledger version to 0.2.4
[ISSUE-4107] - [ISSUE-4107] - rocketmq-tools should not depend on rocketmq-store
[ISSUE-4098] - [ISSUE-4098] - Optimized the algorithm of trace message send.
[ISSUE-4058] - [ISSUE-4058] - DLedgerCommitLog support LMQ
[ISSUE-4048] - [ISSUE-4048] - Make storePathCommitLog base on storePathRootDir
[ISSUE-4033] - [ISSUE-4033] - fix async deliver msg will resend forever when serivce not avliable
[ISSUE-4040] - [ISSUE-4040] - Unnecessary toString methods deleted
[ISSUE-4037] - [ISSUE-4037] - Add DeleteExpiredCommitLogSubCommand
[ISSUE-4035] - [ISSUE-4035] - rename some commands
[ISSUE-4125] - [ISSUE-4125] - Anonymous new Runnable() can be replaced with lambda
[ISSUE-4028] - [ISSUE-4028] - wrong log output
[ISSUE-4025] - [ISSUE-4025] - acl not work after changed
[ISSUE-4151] - [ISSUE-4151] - Add option p to the updateGlobalWhiteAddr command
[ISSUE-4000] - [ISSUE-4000] - Fix the warn log input in command tools
[ISSUE-3985] - [ISSUE-3985] - Remove shuffle operation before sorting the list of &#x27;FaultItem&#x27;.
[ISSUE-3964] - [ISSUE-3964] - Introduce jmh test for RemotingCommand
[ISSUE-3950] - [ISSUE-3950] - Anonymous new Callable() replaced with lambda
[ISSUE-3922] - [ISSUE-3922] - Fix bugs in ACL modification
[ISSUE-3911] - [ISSUE-3911] - Fix ThreadLocalIndexTest does not actually assert the value
[ISSUE-3900] - [ISSUE-3900] - Fix that wrong dir is created when using mult-dirs storage
[ISSUE-3898] - [ISSUE-3898] - fix the spell in MQClientAPIImpl
[ISSUE-3896] - [ISSUE-3896] - fix log format error
[ISSUE-3890] - [ISSUE-3890] - add &#x27;brokerAddress&#x27; param for ConsumerConnectionSubCommand
[ISSUE-3882] - [ISSUE-3882] - Nameserver change modify topicQueueTable in RouteInfoManager
[ISSUE-3877] - [ISSUE-3877] - Remove unnecessary Exception thrown by MQClientAPIImpl#createSubscriptionGroup
[ISSUE-3875] - [ISSUE-3875] - fix unable to delete last acl account.
[ISSUE-23] - [ISSUE-23] - solve error Algorithm HmacSHA1 not available when your java_home is not found
[ISSUE-2993] - [ISSUE-2993] - fix testTruncateCQ on Windows by releasing mapped files.
[ISSUE-3859] - [ISSUE-3859] - enhance the cal of latency for putting message
[ISSUE-3804] - [ISSUE-3804] - Commit consumption offset with specific MessageQueue.
[ISSUE-3699] - [ISSUE-3699] - fix unit test
[ISSUE-3966] - [ISSUE-3966] - Fix using wrong offset when deliver in ScheduleService
[ISSUE-3942] - [ISSUE-3942] - If both acl and message trace are enabled and the default topic RMQ_SYS_TRACE_TOPIC is used for message trace, you don&#x27;t need to add the PUB permission of RMQ_SYS_TRACE_TOPIC topic to the acl config
[ISSUE-3894] - [ISSUE-3894] - Refactor RouteInfoManager unit test</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/third-blog/Release Notes - Apache RocketMQ Streams - Version 1.0.1-preview"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">¬´ Release Notes - Apache RocketMQ Streams - Version 1.0.1-preview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Á§æÂå∫</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/apache/rocketmq" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ÂÖ¨‰ºóÂè∑<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Meetup<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Êõ¥Â§ö</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">ÂçöÂÆ¢</a></li><li class="footer__item"><a href="https://github.com/apache/rocketmq" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Changelog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/apache/rocketmq" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/assets/js/runtime~main.03b61255.js"></script>
<script src="/assets/js/main.4a419aa9.js"></script>
</body>
</html>